<!DOCTYPE html>
<html lang="it">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=yes">
  <title>Meteo Procida ‚Äì Dashboard</title>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Montserrat:wght@700;900&family=Roboto&display=swap');
    html { box-sizing: border-box; } *,*:before,*:after { box-sizing: inherit; }
    body { font-family: 'Roboto', Arial, sans-serif; max-width: 1000px; margin: 0 auto; background: linear-gradient(135deg, #26365a, #3498db 92%); color: #f0f8ff; padding: 14px 2px 18px 2px; min-height: 100vh; }
    .header { font-family: 'Montserrat', sans-serif; font-size: 2.05em; font-weight: 900; text-align: center; color: #cfe9ff; text-shadow: 1px 2px 14px #09172a; letter-spacing: 2px; margin-bottom: 14px; position: relative;}
    .week-cards-bar { display: flex; flex-wrap: nowrap; gap: 17px; justify-content: center; margin: 7px auto 19px auto; width: 99%; max-width: 990px; overflow-x: auto; }
    .mini-card {
      min-width: 107px; max-width: 153px; min-height: 86px;
      background: linear-gradient(115deg,#22396a 92%,#255992 100%);
      border-radius: 21px;
      box-shadow: 0 4.5px 20px #233b5e38, 0 1px 7px #26337709;
      padding: 10px 13px 12px 13px;
      display: flex; flex-direction: column; align-items: flex-start; position: relative;
      cursor: pointer; user-select: none;
      border: 2.1px solid transparent;
      transition: box-shadow 0.22s, transform 0.19s, border 0.16s, background 0.17s;
      margin-bottom: 0;
      outline: none;
    }
    .mini-card.active {
      border: 2.1px solid #42e9fa;
      background: linear-gradient(117deg,#26457f 89%,#1b81b7 100%);
      box-shadow: 0 0 0 3.5px #41e9fa43, 0 7px 24px #3c8fde4d;
      transform: scale(1.045);
    }
    .mini-card .giorno-sett {
      font-family: 'Montserrat',sans-serif; font-size: 1.09em;
      font-weight: 900; letter-spacing: 0.6px; margin-bottom: -2px;
      line-height: 1.14em; margin-top: 2px;
      display: block;
    }
    .giorno-celeste { color: #8de8fa; }
    .giorno-azzurro { color: #42e9fa; }
    .giorno-arancio { color: #ffd472; }
    .mini-card .data-num { font-size: 1.03em; color: #f7fbfe; font-weight: 900; letter-spacing: 1px; margin-right:7px; }
    .mini-card .icon-meteo { font-size: 1.35em; margin: 0 0 2px 3px;vertical-align:-2px;}
    .mini-card-row { display: flex; flex-direction: row; align-items: center; margin-top: 3px; }
    .arrow-up { color: #ffd472; font-size: 1em; font-weight: 400; margin-right: 3px;}
    .arrow-down { color: #6fd7f8; font-size: 1em; font-weight: 400; margin-left: 6px; margin-right: 2px;}
    .t-max { color: #ffd472; font-size: 1.14em; font-weight: 900; margin-right:1px;}
    .t-min { color: #6fd7f8; font-size: 1.14em; font-weight: 900;}
    .mini-card .degree { font-size: 0.89em; }
    /* Dashboard classica sotto */
    .dashboard { display: grid; grid-template-columns: 1fr 1fr; grid-template-rows: auto auto; gap: 30px 30px; width: 99%; margin: 0 auto 20px auto;}
    .box { background: linear-gradient(125deg, #23406c 92%, #2e8cc9 100%); border-radius: 18px; box-shadow: 0 8px 26px 0 #06183970; padding: 24px 17px 22px 17px; min-width: 210px; min-height: 215px; display: flex; flex-direction: column; align-items: center; position: relative; transition: box-shadow 0.22s, transform 0.22s;}
    .box:focus-within, .box:hover { box-shadow: 0 0 24px #2c9efa99, 0 8px 27px #06183980; transform: translateY(-3px) scale(1.012); z-index: 2;}
    .box-title { font-size: 1.39rem; font-weight: 900; color: #b8f6ff; letter-spacing: 1px; margin-bottom: 8px; text-shadow: 1px 1px 8px #03182b45; font-family: 'Montserrat', sans-serif; display: flex; align-items: center; gap: 8px; }
    .box .main { font-weight: 700; font-size: 1.10em; color: #84dbff; }
    .box .desc { margin: 6px 0 0 0; font-size:1.01em; color: #c3ccdf;}
    .footer { margin-top: 32px; text-align: center; color: #dbefff; font-size: 17px; font-weight: 500; text-shadow: 0 2px 6px #283c5880;}
    .update-label { color: #ffe09c; margin-left: 18px; font-size: 15px; }
    @media (max-width: 1040px) {.week-cards-bar { gap:8px;}.mini-card { min-width: 95px;}}
    @media (max-width: 650px) {.week-cards-bar { gap:5px;}.mini-card { min-width: 87px; font-size: 0.92em;}}
    @media (max-width: 540px) {.week-cards-bar { gap:2.5px;}.mini-card { min-width: 71px; font-size: 0.86em; max-width:100px;}}
    @media (max-width: 880px) {.dashboard { grid-template-columns: 1fr; grid-template-rows: auto auto auto auto; gap: 13px 0; max-width: none;} }
    @media (max-width: 800px) { .box { min-width: 170px; max-width: 97vw;} }
    @media (max-width: 540px) { .box { min-width:1px;}}
  </style>
</head>
<body>
  <div class="header">METEO PROCIDA</div>
  <div class="week-cards-bar" id="miniCardsBar"></div>
  <div class="dashboard">
    <section class="box vento" id="windbox"></section>
    <section class="box pioggia" id="rainbox"></section>
    <section class="box mare" id="seabox"></section>
    <section class="box pressione" id="pressbox"></section>
  </div>
  <div class="footer" id="footer"></div>
  <script>
    // Simulazione (in produzione: usa direttamente [object Object],[object Object],[object Object],[object Object],[object Object],[object Object],[object Object]):
    const jsonInput = {
      days: [
        {day_label: "16/10", temp_max: 20, temp_min: 14, icon: "‚õÖ", wind: 12, rain: 0, sea: 0.3, pressure: 1015},
        {day_label: "17/10", temp_max: 19, temp_min: 11, icon: "üå¶Ô∏è", wind: 13, rain: 1.2, sea: 0.4, pressure: 1012},
        {day_label: "18/10", temp_max: 21, temp_min: 13, icon: "üå§Ô∏è", wind: 11, rain: 0, sea: 0.3, pressure: 1018},
        {day_label: "19/10", temp_max: 17, temp_min: 10, icon: "üåßÔ∏è", wind: 18, rain: 4.7, sea: 0.7, pressure: 1010},
        {day_label: "20/10", temp_max: 22, temp_min: 15, icon: "‚òÄÔ∏è", wind: 9, rain: 0, sea: 0.4, pressure: 1017},
        {day_label: "21/10", temp_max: 23, temp_min: 16, icon: "üå©Ô∏è", wind: 25, rain: 2.1, sea: 0.8, pressure: 1008},
        {day_label: "22/10", temp_max: 18, temp_min: 13, icon: "‚õÖ", wind: 14, rain: 0, sea: 0.2, pressure: 1016}
      ]
    };

    function getDayName(dateStr) {
      // "16/10" o "2025-10-16"
      let gg, mm, yyyy;
      if (dateStr.includes('/')) {
        [gg, mm] = dateStr.split('/');
        yyyy = new Date().getFullYear();
      } else if (dateStr.includes('-')) {
        [yyyy, mm, gg] = dateStr.split('-');
      }
      let dt = new Date(`${yyyy}-${mm}-${gg}`);
      const giorni = ["Domenica", "Luned√¨", "Marted√¨", "Mercoled√¨", "Gioved√¨", "Venerd√¨", "Sabato"];
      return {nome: giorni[dt.getDay()], idx: dt.getDay()};
    }

    function dayColorClass(idx) {
      if (idx>=1 && idx<=5) return "giorno-celeste";
      if (idx===6) return "giorno-azzurro";
      if (idx===0) return "giorno-arancio";
      return "";
    }

    let selectedDayIndex = 0;
    function renderMiniCardsBar() {
      let out = '';
      for (let i = 0; i < jsonInput.days.length; i++) {
        const d = jsonInput.days[i];
        const dayInfo = getDayName(d.day_label);
        const colorClass = dayColorClass(dayInfo.idx);
        out += `
        <div class="mini-card${i===selectedDayIndex?" active":""}" onclick="selectDay(${i})" tabindex="0">
          <span class="giorno-sett ${colorClass}">${dayInfo.nome}</span>
          <div class="mini-card-row" style="margin-bottom:2px;">
            <span class="data-num">${d.day_label}</span>
            <span class="icon-meteo">${d.icon}</span>
          </div>
          <div class="mini-card-row">
            <span class="arrow-up">‚Üë</span><span class="t-max">${d.temp_max}<span class="degree">¬∞</span></span>
            <span class="arrow-down">‚Üì</span><span class="t-min">${d.temp_min}<span class="degree">¬∞</span></span>
          </div>
        </div>`;
      }
      document.getElementById("miniCardsBar").innerHTML = out;
    }

    function selectDay(i) {
      selectedDayIndex = i;
      renderMiniCardsBar();
      renderAll();
    }

    function renderWind() {
      const d = jsonInput.days[selectedDayIndex];
      document.getElementById("windbox").innerHTML = `
        <div class="box-title">Vento</div>
        <div class="main">Velocit√† media: <b>${d.wind} km/h</b></div>
        <div class="desc">üå¨Ô∏è Direzione principale del vento non simulata</div>
      `;
    }
    function renderRain() {
      const d = jsonInput.days[selectedDayIndex];
      document.getElementById("rainbox").innerHTML = `
        <div class="box-title">Pioggia</div>
        <div class="main">Precipitazioni: <b>${d.rain} mm</b></div>
        <div class="desc">üåßÔ∏è Totale stimato nel giorno</div>
      `;
    }
    function renderSea() {
      const d = jsonInput.days[selectedDayIndex];
      document.getElementById("seabox").innerHTML = `
        <div class="box-title">Mare</div>
        <div class="main">Altezza onda stimata: <b>${d.sea} m</b></div>
        <div class="desc">üåä Valore medio previsto</div>
      `;
    }
    function renderPress() {
      const d = jsonInput.days[selectedDayIndex];
      document.getElementById("pressbox").innerHTML = `
        <div class="box-title">Pressione</div>
        <div class="main">Pressione media: <b>${d.pressure} hPa</b></div>
        <div class="desc">üîΩ Trend pressione giorno non simulato</div>
      `;
    }
    function renderAll() {
      renderWind();
      renderRain();
      renderSea();
      renderPress();
      document.getElementById("footer").innerHTML =
        `Powered by Open-Meteo ‚Ä¢ UI by micheledv74`;
    }

    renderMiniCardsBar();
    renderAll();
  </script>
</body>
</html>
