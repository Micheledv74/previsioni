<!DOCTYPE html>
<html lang="it">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=yes" />
  <title>Previsioni Procida - Dashboard Meteo</title>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Montserrat:wght@700;900&family=Roboto&display=swap');
    html { box-sizing: border-box;} *,*:before,*:after { box-sizing: inherit; }
    body { font-family: 'Roboto', Arial, sans-serif; max-width: 1000px; margin: 0 auto; background: linear-gradient(135deg, #26365a, #3498db 92%); color: #f0f8ff; padding: 14px 2px 18px 2px; overflow-x: hidden; min-height: 100vh; }
    .header { font-family: 'Montserrat', sans-serif; font-size: 2.45em; font-weight: 900; text-align: center; color: #cfe9ff; text-shadow: 1px 2px 14px #09172a; letter-spacing: 2px; user-select: none; margin-bottom: 19px; }
    .dashboard {
      display: grid;
      grid-template-columns: 1fr 1fr;
      grid-template-rows: auto auto;
      gap: 30px 30px;
      justify-items: stretch;
      align-items: stretch;
      width: 98%;
      margin: 0 auto 20px auto;
      max-width: 900px;
    }
    .box {
      background: linear-gradient(125deg, #23406c 92%, #2e8cc9 100%);
      border-radius: 18px;
      box-shadow: 0 8px 26px 0 #06183970;
      padding: 24px 17px 22px 17px;
      min-width: 210px;
      min-height: 215px;
      display: flex;
      flex-direction: column;
      align-items: center;
      position: relative;
      transition: box-shadow 0.22s, transform 0.22s;
    }
    .box:focus-within,
    .box:hover {
      box-shadow: 0 0 25px #2c9efa99, 0 7px 24px #06183980;
      transform: translateY(-3px) scale(1.012);
      z-index: 2;
    }
    .box-title {
      font-size: 1.30rem;
      font-weight: 900;
      color: #b8f6ff;
      letter-spacing: 0.7px;
      margin-bottom: 8px;
      text-shadow: 1px 1px 7px #03182b56;
      font-family: 'Montserrat', sans-serif;
      display: flex;
      align-items: center;
      gap: 8px;
    }
    .box .main { font-weight: 700; font-size: 1.11em; color:#84dbff;}
    .box .desc { margin: 2px 0 0 0; font-size:1.01em; color:#c3ccdf;}
    .wind-info { font-weight: 700; font-size: 1.11em; margin: 0; display: flex; justify-content: center; gap: 12px; }
    .wind-info span { display: inline-block; }
    .wind-info .wind-speed { color: #84dbff; }
    .wind-info .wind-dir { color: #c3ccdf; }
    .folata-max { color: #84dbff; font-weight: 700; font-size: 1.11em; margin-top: 6px; }
    .detail-btn {
      margin: 12px 0 7px 0;
      background: linear-gradient(92deg,#137af7 60%,#269beb 100%);
      color: #fff;
      font-weight:600;
      font-size: 1.1em;
      border: 1.7px solid #a2d8ff;
      border-radius: 9px;
      padding: 10px 28px;
      cursor: pointer;
      outline: none;
      box-shadow: 0 2px 12px #16518545;
      transition: background 0.20s, box-shadow 0.18s;
    }
    .detail-btn:hover,
    .detail-btn:focus {
      background: linear-gradient(92deg,#269beb 20%,#137af7 100%);
      box-shadow: 0 0 18px #24aef7a1;
    }
    .box-summary, .box-summary-row, .box-summary-row2 {
      margin-top: 7px;
    }
    .box-summary-row span,
    .box-summary-row2 span {
      font-size: 1em;
    }
    .summary-label { font-weight: 700; }
    .summary-max { color: #ffd472; }
    .summary-min { color: #6fd7f8; }
    .summary-dir { color: #8effa6; }
    .summary-mean { color: #b6fffa; }
    .summary-range { color: #fee3a1; }
    .summary-std { color: #c2cafd;}
    .summary-trend-up { color: #09e889; }
    .summary-trend-down { color: #ff9a00; }
    .summary-trend-stable { color: #ffd472; }
    .summary-max-mm { color: #a1b4ff; }
    .summary-min-mm { color: #72b6cc; }
    .summary-hour { color: #e0deff;}
    .summary-temp { color: #ffb2e6;}
    .summary-celeste { color: #6fd7f8; }
    .detail-section { display: none; margin-top: 8px; width: 100%; }
    .detail-section.active { display: block; }
    .chart-wrap { width: 99%; max-width: 385px; margin: 0 auto 8px auto; border-radius: 13px; background: #213260d0; padding: 11px 5px 7px 5px;}
    .mini-days { display:flex; flex-wrap:wrap; gap:8px; margin:18px auto 7px auto; justify-content:center;}
    .mini-day { background: #0b1333b0; color: #c6f3ff; border-radius:11px; padding:9px 15px; font-size:1em; min-width:85px; box-shadow: 0 2px 8px #202b3b44; cursor: pointer; user-select: none; }
    .mini-day:hover { background: rgba(79, 117, 203, 0.47); }
    .mini-day.active { background: rgba(91, 144, 197, 0.78); box-shadow: 0 0 12px #dbefff; }
    .footer { margin-top: 32px; text-align: center; color: #dbefff; font-size: 17px; font-weight: 500; text-shadow: 0 2px 6px #283c5880; }
    @media (max-width: 880px) {
      .dashboard {
        grid-template-columns: 1fr;
        grid-template-rows: auto auto auto auto;
        gap: 15px 0;
        max-width: none;
      }
    }
    @media (max-width: 800px) {
      .box { min-width: 180px; max-width: 97vw; }
    }
    @media (max-width: 650px) {
      .header { font-size: 1.17em; }
      .box { width: 100%; max-width: 98vw;}
    }
    @media (max-width: 600px) {
      .box { min-height: 174px; padding: 11px 4px 14px 4px; }
    }
    @media (max-width: 510px) {
      .mini-day { padding: 6px 5px; font-size: 0.93em;}
    }
  </style>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
  <div class="header">PREVISIONI METEO PROCIDA</div>
  <div class="dashboard">
    <section class="box vento" id="windbox"></section>
    <section class="box pioggia" id="rainbox"></section>
    <section class="box mare" id="seabox"></section>
    <section class="box pressione" id="pressbox"></section>
  </div>
  <div class="mini-days" id="miniDaysBox"></div>
  <div class="footer" id="footer"></div>
  <script>
    const DATA = {... YOUR JSON DATA FROM paste.txt ... }; // Copia e incolla qui interamente il JSON reale

    let selectedDayIndex = 0;
    let windChart, rainChart, seaChart, pressChart;

    function rainIcon(valmm) {
      if (valmm < 0.1) return '';
      if (valmm < 0.5) return 'ðŸ’§';
      if (valmm < 1) return 'ðŸ’§ðŸ’§';
      if (valmm < 3) return 'ðŸ’§ðŸ’§ðŸ’§';
      if (valmm < 10) return 'ðŸ’§ðŸ’§ðŸ’§ðŸ’§';
      return 'ðŸ’§ðŸ’§ðŸ’§ðŸ’§ðŸ’§';
    }

    function windDirectionName(deg) {
      const winds = [
        { name: "Tramontana", abbr: "N" }, { name: "Grecale", abbr: "NE" },
        { name: "Levante", abbr: "E" }, { name: "Scirocco", abbr: "SE" },
        { name: "Ostro", abbr: "S" }, { name: "Libeccio", abbr: "SO" },
        { name: "Ponente", abbr: "O" }, { name: "Maestrale", abbr: "NO" }
      ];
      const idx = Math.floor(((deg + 22.5) % 360) / 45);
      return winds[idx] ? winds[idx].name + " (" + winds[idx].abbr + ")" : "N/D";
    }

    // rest of the original JavaScript code for renderWind, renderRain, renderSea, renderPress, etc.

    renderAll();
  </script>
</body>
</html>
