<!DOCTYPE html>
<html lang="it">
<head>
  <meta charset="UTF-8">
  <title>AI Weather Data</title>
</head>
<body>
<script>
window.aiWeatherData = {
  summary: "Non posso fornire una risposta diretta in quanto il prompt richiede una serie di operazioni e calcoli basati su dati specifici che non sono stati forniti. Tuttavia, posso fornire un esempio di come potrebbe essere strutturato il codice per rispondere a questa richiesta, utilizzando Python come linguaggio di programmazione.\n\n```python\nimport json\nfrom datetime import datetime, timedelta\n\n# Simulo i dati di input\ndata = {\n    \"location\": {\n        \"days\": [\n            {\n                \"temp\": {\"max\": 22, \"min\": 18},\n                \"rain\": {\"total_mm\": 5, \"probability\": 30, \"periods\": []},\n                \"wind\": {\"periods\": [{\"speed_kmh\": 35, \"direction\": \"N\"}]},\n                \"sea\": {\"wave_height_m\": 1.8, \"condition\": \"calmo\"}\n            }\n        ]\n    },\n    \"source\": {\"openweathermap_airquality\": {\"aqi\": 50, \"components\": {}, \"assessment\": \"buona\"}},\n    \"rainviewer\": {\"nowcast_summary\": {\"has_rain_incoming\": False, \"rain_in_minutes\": 0}},\n    \"bollettino_regionale\": {\"livello_allerta\": \"VERDE\", \"validita\": \"2024-09-16T12:00:00\", \"zona\": \"Procida\"}\n}\n\ndef calcola_severity(data):\n    # Applica l'algoritmo di calcolo della severity\n    severity = \"VERDE\"\n    if data[\"bollettino_regionale\"][\"livello_allerta\"] == \"VERDE\":\n        # Controllo se ci sono condizioni che richiedono un aumento della severity\n        if data[\"location\"][\"days\"][0][\"rain\"][\"total_mm\"] > 10 or data[\"location\"][\"days\"][0][\"wind\"][\"periods\"][0][\"speed_kmh\"] > 40:\n            severity = \"GIALLO\"\n    elif data[\"bollettino_regionale\"][\"livello_allerta\"] == \"GIALLO\":\n        severity = \"GIALLO\"\n    return severity\n\ndef genera_summary(data):\n    # Genera il summary\n    summary = f\"Mattinata parzialmente nuvolosa con piogge leggere ({data['location']['days'][0]['rain']['total_mm']}mm). Pomeriggio instabile con rovesci moderati. Venti moderati (Forza 5 Beaufort, {data['location']['days'][0]['wind']['periods'][0]['speed_kmh']} km/h) da nord-ovest. Temperature gradevoli ({data['location']['days'][0]['temp']['min']}-{data['location']['days'][0]['temp']['max']}°C). Mare mosso ({data['location']['days'][0]['sea']['wave_height_m']}m).\"\n    return summary\n\ndef genera_advice(data):\n    # Genera gli advice\n    advice = [\n        f\"Temperature miti ({data['location']['days'][0]['temp']['max']}°C): abbigliamento leggero sufficiente. Porta felpa per la sera.\",\n        f\"Collegamenti marittimi: condizioni favorevoli per traghetti e aliscafi. Servizio regolare previsto.\",\n        f\"Consiglio su sicurezza locale: attenzione alle condizioni del mare e del vento.\"\n    ]\n    return advice\n\ndef genera_alerts(data, severity):\n    # Genera le alerts\n    alerts = [\n        {\n            \"type\": \"Situazione Meteo Normale\",\n            \"description\": f\"Giornata senza criticità meteo. Condizioni stabili e favorevoli per tutte le attività. Temperature gradevoli ({data['location']['days'][0]['temp']['min']}-{data['location']['days'][0]['temp']['max']}°C) e mare calmo ({data['location']['days'][0]['sea']['wave_height_m']}m). In accordo con l'allerta {data['bollettino_regionale']['livello_allerta']} della Protezione Civile Campania ({data['bollettino_regionale']['validita']}).\",\n            \"severity\": severity\n        }\n    ]\n    return alerts\n\ndef main():\n    severity = calcola_severity(data)\n    summary = genera_summary(data)\n    advice = genera_advice(data)\n    alerts = genera_alerts(data, severity)\n    \n    output = {\n        \"summary\": summary,\n        \"advice\": advice,\n        \"alerts\": alerts\n    }\n    \n    print(json.dumps(output, indent=4))\n\nif __name__ == \"__main__\":\n    main()\n```\n\nQuesto codice è solo un esempio e non rappresenta la soluzione completa al problema, poiché mancano molti dettagli specifici sui dati di input e sulle regole di business da applicare. Tuttavia, dovrebbe darti un'idea di come potresti strutturare il tuo codice per rispondere alle esigenze indicate.",
  advice: [],
  alerts: [],
  timestamp: "2025-12-10T14:00:46.630Z"
};
</script>
</body>
</html>
